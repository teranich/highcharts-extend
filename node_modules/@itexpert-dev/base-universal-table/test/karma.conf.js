"use strict";
let originConfig = require('./karma-webpack.config.js');

module.exports = function (config) {
    config.set({
        frameworks: ['jasmine'],

        files: [
            './main.ts'
        ],

        reporters: ['progress', 'kjhtml'],
        autoWatch: true,
        browsers: ['Chrome'],

        preprocessors: {'**/*.ts': ['webpack', 'sourcemap']},

        webpack: {
            resolve: originConfig[0].resolve,
            module: originConfig[0].module,
            devtool: 'inline-source-map'
        },
        mime: {
            'text/x-typescript': ['ts','tsx']
        },
        singleRun: false
    })
}